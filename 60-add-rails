#!/usr/bin/env bash
# Rails

if [[ ${railsFlag:-false} == true ]]; then
  log_info "Installing Rails..."
else
  log_info "Rails skipped."
  return;
fi

# Install pacman packages.
pacman_packages=(
  "freetds"
)

sudo pacman -S --noconfirm --needed "${pacman_packages[@]}"

# Installing Ruby on Rails
if ! command -v gem &>/dev/null; then
  log_fail "Ruby gem command not found â€” ensure Ruby is installed."
  return
fi

gem install rails && log_pass "Rails installed successfully."
rails --version || log_warn "Rails installed but version check failed."
